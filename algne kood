import pygame
import random
pygame.init()

def wind(direction):
    for i in linnud:
        i.direction =direction
class Pesa:
    def __init__(self, image, x,y):
        self.x = x
        self.y = y
        self.image = image
        self.pos = image.get_rect().move(x, y) 
        
class Lind:
    def __init__(self, image, X,Y, speed, direction):
        self.speed = speed
        self.image = image
        self.pos = image.get_rect().move(X, Y)
        self.direction = direction
        
    def imagevalik(self):
        if self.direction == "N":
            self.image = lind1
        elif self.direction == "W":
            self.image = lind2
        elif self.direction == "E":
            self.image = lind3
        elif self.direction == "S":
            self.image = lind4
    
    def move(self):
        if self.direction =="E" and self.pos.right<800:
            self.pos = self.pos.move(self.speed,0)
        if self.direction =="N" and self.pos.right<800:
            self.pos = self.pos.move(0,-self.speed)
        if self.direction =="S" and self.pos.right<800:
            self.pos = self.pos.move(0,self.speed)
        if self.direction =="W" and self.pos.left>0:
            self.pos = self.pos.move(-1*self.speed,0)

bird_speed = 3 #lindude kiirus

ekraani_pind = pygame.display.set_mode( (800, 600) )
pygame.display.set_caption("MÃ¤ng lindudega")
transColor = pygame.Color(255, 255, 255)
lind1 = pygame.image.load("lind.png").convert()
lind1.set_colorkey(transColor)
lind2 = pygame.image.load("lind2.png").convert()
lind2.set_colorkey(transColor)
lind3 = pygame.image.load("lind3.png").convert()
lind3.set_colorkey(transColor)
lind4 = pygame.image.load("lind4.png").convert()
lind4.set_colorkey(transColor)
taust = pygame.image.load("taust.jpg").convert()
ekraani_pind.blit(taust, (0, 0))
pesa = pygame.image.load('pesa.png').convert()
pesa.set_colorkey(transColor)
s = Pesa(pesa, 500,140)

linnud = []

for i in range(3):
    a = Lind(random.choice([lind1,lind2,lind3,lind4]), random.choice([10,50,150]), random.choice([100,300,500]), bird_speed, "W")
    linnud.append(a)

k = pygame
while True:
    clock = pygame.time.Clock()
    FRAMES_PER_SECOND = 60
    deltat = clock.tick(FRAMES_PER_SECOND)
    event = pygame.event.poll()
    if event.type == pygame.QUIT:
        break
    if event.type == pygame.KEYDOWN:
        if event.key == k.K_UP:
            wind("N")
        elif event.key==k.K_DOWN:
            wind("S")
        elif event.key == k.K_RIGHT:
            wind("E")
        elif event.key == k.K_LEFT:
            wind("W")
    for element in linnud:
        element.imagevalik()
        ekraani_pind.blit(taust, element.pos, element.pos)
        element.move()
        ekraani_pind.blit(element.image, element.pos)
        ekraani_pind.blit(s.image, s.pos)
    pygame.display.update()
    pygame.time.delay(100)
pygame.quit()
